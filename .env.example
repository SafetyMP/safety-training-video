# Get your API key from https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here

# Integration tests: npm run test:integration
# - eCFR: runs without keys (free)
# - OpenAI: set OPENAI_API_KEY to test script, image, TTS
# - Replicate: set REPLICATE_API_TOKEN + IMAGE_PROVIDER=sdxl|flux or TTS_PROVIDER=kokoro
#   If Replicate tests fail with 401, run: REPLICATE_API_TOKEN=your_token npm run test:integration

# Trust X-Forwarded-For / X-Real-IP for rate limiting (set when behind reverse proxy)
# TRUST_PROXY=1

# Override OpenAI models (optional)
# OPENAI_SCRIPT_MODEL=gpt-4o-mini
# OPENAI_IMAGE_MODEL=dall-e-3

# Tier 1: Cost savings (50-80% cheaper)
# IMAGE_PROVIDER=dall-e-3
# IMAGE_PROVIDER=gpt-image-1-mini
# TTS_PROVIDER=openai
# TTS_PROVIDER=edge

# Tier 2: Replicate (SDXL/Flux + Kokoro, ~90% cheaper)
# Requires REPLICATE_API_TOKEN from https://replicate.com/account/api-tokens
# Token format: r8_xxxxxxxx (create at replicate.com/account/api-tokens)
# REPLICATE_THROTTLE_MS=10000  # Min ms between Replicate calls (default 10s; 6 req/min)
#
# IMAGE_PROVIDER options:
#   sdxl  - Stability AI SDXL (~$0.002/image, 25-50 inference steps, good quality)
#   flux  - Flux Dev (~$0.025/image, up to 50 steps, best Replicate quality)
#         - Includes anatomical quality prompts for better hands/proportions
#         - Recommended for safety training with human subjects
#
# IMAGE_PROVIDER=sdxl
# IMAGE_PROVIDER=flux
# TTS_PROVIDER=kokoro
# REPLICATE_API_TOKEN=r8_your-replicate-token-here

# Tier 3: AI video clips (Replicate Wan 2.1 T2V)
# Requires REPLICATE_API_TOKEN. Replaces static images with ~5s video clips.
# Cost: ~$0.03/video clip (vs ~$0.002-0.025/image)
# Total cost for 3-scene video with Kokoro TTS: ~$0.10-0.12
# VIDEO_PROVIDER=wan
# NEXT_PUBLIC_VIDEO_PROVIDER=wan  # for client cost estimates

# Phase 3: Fact verification (runs after script generation; set to false to disable)
# FACT_VERIFICATION_ENABLED=false

# Two-stage prompt refinement: Uses GPT-4o-mini to optimize prompts for each provider
# - DALL-E 3 / GPT Image Mini: Natural language optimization
# - SDXL: Keyword-tag format with style at start, negative prompt generation
# - Flux: Natural language with style at end
# - Wan 2.1 (video): Adds motion, camera, and temporal descriptions
# Cost: ~$0.0007 per 5-scene video (negligible)
# Set to false to disable (uses static transformation rules instead)
# PROMPT_REFINEMENT_ENABLED=false

# Phase 5: Live regulatory API (eCFR.gov); set to false to use static reference only
# REGULATORY_API_ENABLED=false
# ECFR_DATE=2024-01-15  # Point-in-time date (YYYY-MM-DD); default: current date

# Client-side cost estimates (match server config; optional)
# NEXT_PUBLIC_IMAGE_PROVIDER=gpt-image-1-mini
# NEXT_PUBLIC_TTS_PROVIDER=edge

# Distributed rate limiting (optional; uses in-memory when not set)
# UPSTASH_REDIS_REST_URL=https://xxx.upstash.io
# UPSTASH_REDIS_REST_TOKEN=xxx
